import{S as j,i as A,s as V,k as v,l as b,m as w,h as u,n as p,b as h,D as y,t as T,d as P,f as B,H as R,K as C,L as J,M as $,g as z,B as L,N as Q,q as M,r as I,u as H,a as x,c as S,O as U,I as D,P as X,e as O,Q as K,J as ee}from"../../../chunks/index-80c1ded1.js";import{w as te}from"../../../chunks/index-54629702.js";var F;const ie=(F=window.localStorage.getItem("game_id"))!=null?F:"1",E=te(ie);E.subscribe(o=>{window.localStorage.setItem("game_id",o),console.log(o)});let se=[{id:"1",message:"The house.",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"2",text:"GO"}]},{id:"2",message:"Will you go in?",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"3",text:"yes"},{id:"4",text:"no"}]},{id:"3",message:"A monster is inside!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://previews.123rf.com/images/chainat/chainat1902/chainat190200039/120695175-creepy-monster-in-a-haunted-house-3d-rendering.jpg" width="480"></iframe></div>',choices:[{id:"4",text:"give up"},{id:"4",text:"run"}]},{id:"4",message:"You died!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://media.gettyimages.com/id/88964685/sv/foto/man-passed-out-on-carpet-with-one-sock.jpg?s=612x612&w=0&k=20&c=f8p2sb3Slrk6QELaxcWS774T_ZCX3Xk6wb0EYZGUEF4=" width="480"></iframe></div>',choices:[{id:"1",text:"start again!"}]}];function le(o){const e=o-1;return e*e*e+1}function G(o,{delay:e=0,duration:s=400,easing:l=le,x:t=0,y:i=0,opacity:c=0}={}){const n=getComputedStyle(o),r=+n.opacity,f=n.transform==="none"?"":n.transform,g=r*(1-c);return{delay:e,duration:s,easing:l,css:(d,a)=>`
			transform: ${f} translate(${(1-d)*t}px, ${(1-d)*i}px);
			opacity: ${r-g*a}`}}function N(o,e,s){const l=o.slice();return l[4]=e[s],l}function ae(o){let e,s,l,t;return{c(){e=v("p"),s=M("STORY FOR ID "),l=M(o[0]),t=M(" MISSING")},l(i){e=b(i,"P",{});var c=w(e);s=I(c,"STORY FOR ID "),l=I(c,o[0]),t=I(c," MISSING"),c.forEach(u)},m(i,c){h(i,e,c),y(e,s),y(e,l),y(e,t)},p(i,c){c&1&&H(l,i[0])},d(i){i&&u(e)}}}function re(o){let e,s,l,t=o[1].message+"",i,c,n,r=o[1].img&&W(o),f=o[1].html&&Y(o),g=o[1].choices,d=[];for(let a=0;a<g.length;a+=1)d[a]=Z(N(o,g,a));return{c(){r&&r.c(),e=x(),f&&f.c(),s=x(),l=v("p"),i=M(t),c=x(),n=v("div");for(let a=0;a<d.length;a+=1)d[a].c();this.h()},l(a){r&&r.l(a),e=S(a),f&&f.l(a),s=S(a),l=b(a,"P",{});var _=w(l);i=I(_,t),_.forEach(u),c=S(a),n=b(a,"DIV",{class:!0});var m=w(n);for(let k=0;k<d.length;k+=1)d[k].l(m);m.forEach(u),this.h()},h(){p(n,"class","row svelte-10grs4c")},m(a,_){r&&r.m(a,_),h(a,e,_),f&&f.m(a,_),h(a,s,_),h(a,l,_),y(l,i),h(a,c,_),h(a,n,_);for(let m=0;m<d.length;m+=1)d[m].m(n,null)},p(a,_){if(a[1].img?r?r.p(a,_):(r=W(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[1].html?f?f.p(a,_):(f=Y(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null),_&2&&t!==(t=a[1].message+"")&&H(i,t),_&6){g=a[1].choices;let m;for(m=0;m<g.length;m+=1){const k=N(a,g,m);d[m]?d[m].p(k,_):(d[m]=Z(k),d[m].c(),d[m].m(n,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=g.length}},d(a){r&&r.d(a),a&&u(e),f&&f.d(a),a&&u(s),a&&u(l),a&&u(c),a&&u(n),U(d,a)}}}function W(o){let e,s,l;return{c(){e=v("img"),this.h()},l(t){e=b(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){D(e.src,s=o[1].img)||p(e,"src",s),p(e,"alt",l=o[1].message),p(e,"class","svelte-10grs4c")},m(t,i){h(t,e,i)},p(t,i){i&2&&!D(e.src,s=t[1].img)&&p(e,"src",s),i&2&&l!==(l=t[1].message)&&p(e,"alt",l)},d(t){t&&u(e)}}}function Y(o){let e,s=o[1].html+"",l;return{c(){e=new X(!1),l=O(),this.h()},l(t){e=K(t,!1),l=O(),this.h()},h(){e.a=l},m(t,i){e.m(s,t,i),h(t,l,i)},p(t,i){i&2&&s!==(s=t[1].html+"")&&e.p(s)},d(t){t&&u(l),t&&e.d()}}}function Z(o){let e,s=o[4].text+"",l,t,i;function c(){return o[3](o[4])}return{c(){e=v("button"),l=M(s)},l(n){e=b(n,"BUTTON",{});var r=w(e);l=I(r,s),r.forEach(u)},m(n,r){h(n,e,r),y(e,l),t||(i=ee(e,"click",c),t=!0)},p(n,r){o=n,r&2&&s!==(s=o[4].text+"")&&H(l,s)},d(n){n&&u(e),t=!1,i()}}}function q(o){let e,s,l,t;function i(r,f){return r[1]?re:ae}let c=i(o),n=c(o);return{c(){e=v("div"),n.c(),this.h()},l(r){e=b(r,"DIV",{class:!0});var f=w(e);n.l(f),f.forEach(u),this.h()},h(){p(e,"class","container svelte-10grs4c")},m(r,f){h(r,e,f),n.m(e,null),t=!0},p(r,f){c===(c=i(r))&&n?n.p(r,f):(n.d(1),n=c(r),n&&(n.c(),n.m(e,null)))},i(r){t||(r&&C(()=>{l&&l.end(1),s=J(e,G,{x:800,duration:750}),s.start()}),t=!0)},o(r){s&&s.invalidate(),r&&(l=$(e,G,{x:-800,duration:750})),t=!1},d(r){r&&u(e),n.d(),r&&l&&l.end()}}}function oe(o){let e,s,l=o[0],t=q(o);return{c(){e=v("main"),s=v("div"),t.c(),this.h()},l(i){e=b(i,"MAIN",{class:!0});var c=w(e);s=b(c,"DIV",{class:!0});var n=w(s);t.l(n),n.forEach(u),c.forEach(u),this.h()},h(){p(s,"class","grid svelte-10grs4c"),p(e,"class","svelte-10grs4c")},m(i,c){h(i,e,c),y(e,s),t.m(s,null)},p(i,[c]){c&1&&V(l,l=i[0])?(z(),T(t,1,1,L),P(),t=q(i),t.c(),B(t,1),t.m(s,null)):t.p(i,c)},i(i){B(t)},o(i){T(t)},d(i){i&&u(e),t.d(i)}}}function ne(o,e,s){let l,t,i;R(o,E,n=>s(2,i=n));const c=n=>{Q(E,i=n.id,i)};return o.$$.update=()=>{o.$$.dirty&4&&s(0,l=i),o.$$.dirty&1&&s(1,t=se.find(n=>n.id==l))},[l,t,i,c]}class de extends j{constructor(e){super(),A(this,e,ne,oe,V,{})}}export{de as default};
