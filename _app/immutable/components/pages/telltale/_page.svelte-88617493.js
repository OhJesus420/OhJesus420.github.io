import{S as Z,i as F,s as Y,k as u,l as p,m as g,h,n as y,b as _,E as b,t as M,d as N,f as S,I as R,P as j,Q as q,R as A,g as P,B as J,T as U,q as w,r as k,u as I,a as E,c as T,J as z,U as C,e as B,V as Q,K as X}from"../../../chunks/index-c7dfad0f.js";import{w as K}from"../../../chunks/index-3ce9bd81.js";import{f as H}from"../../../chunks/index-0c3ebe04.js";var W;const L=(W=window.localStorage.getItem("game_id"))!=null?W:"1",x=K(L);x.subscribe(n=>{window.localStorage.setItem("game_id",n),console.log(n)});let $=[{id:"1",message:"The house.",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"2",text:"GO"}]},{id:"2",message:"Will you go in?",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"3",text:"yes"},{id:"4",text:"no"}]},{id:"3",message:"A monster is inside!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://previews.123rf.com/images/chainat/chainat1902/chainat190200039/120695175-creepy-monster-in-a-haunted-house-3d-rendering.jpg" width="480"></iframe></div>',choices:[{id:"4",text:"give up"},{id:"4",text:"run"}]},{id:"4",message:"You died!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://media.gettyimages.com/id/88964685/sv/foto/man-passed-out-on-carpet-with-one-sock.jpg?s=612x612&w=0&k=20&c=f8p2sb3Slrk6QELaxcWS774T_ZCX3Xk6wb0EYZGUEF4=" width="480"></iframe></div>',choices:[{id:"1",text:"start again!"}]}];function D(n,e,s){const a=n.slice();return a[4]=e[s],a}function ee(n){let e,s,a,i;return{c(){e=u("p"),s=w("STORY FOR ID "),a=w(n[0]),i=w(" MISSING")},l(l){e=p(l,"P",{});var r=g(e);s=k(r,"STORY FOR ID "),a=k(r,n[0]),i=k(r," MISSING"),r.forEach(h)},m(l,r){_(l,e,r),b(e,s),b(e,a),b(e,i)},p(l,r){r&1&&I(a,l[0])},d(l){l&&h(e)}}}function te(n){let e,s,a=n[1].message+"",i,l,r,t=n[1].html&&G(n),c=n[1].choices,d=[];for(let o=0;o<c.length;o+=1)d[o]=O(D(n,c,o));return{c(){t&&t.c(),e=E(),s=u("p"),i=w(a),l=E(),r=u("div");for(let o=0;o<d.length;o+=1)d[o].c();this.h()},l(o){t&&t.l(o),e=T(o),s=p(o,"P",{});var m=g(s);i=k(m,a),m.forEach(h),l=T(o),r=p(o,"DIV",{class:!0});var f=g(r);for(let v=0;v<d.length;v+=1)d[v].l(f);f.forEach(h),this.h()},h(){y(r,"class","row svelte-10grs4c")},m(o,m){t&&t.m(o,m),_(o,e,m),_(o,s,m),b(s,i),_(o,l,m),_(o,r,m);for(let f=0;f<d.length;f+=1)d[f].m(r,null)},p(o,m){if(o[1].html?t?t.p(o,m):(t=G(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),m&2&&a!==(a=o[1].message+"")&&I(i,a),m&6){c=o[1].choices;let f;for(f=0;f<c.length;f+=1){const v=D(o,c,f);d[f]?d[f].p(v,m):(d[f]=O(v),d[f].c(),d[f].m(r,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=c.length}},d(o){t&&t.d(o),o&&h(e),o&&h(s),o&&h(l),o&&h(r),z(d,o)}}}function G(n){let e,s=n[1].html+"",a;return{c(){e=new C(!1),a=B(),this.h()},l(i){e=Q(i,!1),a=B(),this.h()},h(){e.a=a},m(i,l){e.m(s,i,l),_(i,a,l)},p(i,l){l&2&&s!==(s=i[1].html+"")&&e.p(s)},d(i){i&&h(a),i&&e.d()}}}function O(n){let e,s=n[4].text+"",a,i,l;function r(){return n[3](n[4])}return{c(){e=u("button"),a=w(s)},l(t){e=p(t,"BUTTON",{});var c=g(e);a=k(c,s),c.forEach(h)},m(t,c){_(t,e,c),b(e,a),i||(l=X(e,"click",r),i=!0)},p(t,c){n=t,c&2&&s!==(s=n[4].text+"")&&I(a,s)},d(t){t&&h(e),i=!1,l()}}}function V(n){let e,s,a,i;function l(c,d){return c[1]?te:ee}let r=l(n),t=r(n);return{c(){e=u("div"),t.c(),this.h()},l(c){e=p(c,"DIV",{class:!0});var d=g(e);t.l(d),d.forEach(h),this.h()},h(){y(e,"class","container svelte-10grs4c")},m(c,d){_(c,e,d),t.m(e,null),i=!0},p(c,d){r===(r=l(c))&&t?t.p(c,d):(t.d(1),t=r(c),t&&(t.c(),t.m(e,null)))},i(c){i||(c&&j(()=>{a&&a.end(1),s=q(e,H,{x:800,duration:750}),s.start()}),i=!0)},o(c){s&&s.invalidate(),c&&(a=A(e,H,{x:-800,duration:750})),i=!1},d(c){c&&h(e),t.d(),c&&a&&a.end()}}}function ie(n){let e,s,a=n[0],i=V(n);return{c(){e=u("main"),s=u("div"),i.c(),this.h()},l(l){e=p(l,"MAIN",{class:!0});var r=g(e);s=p(r,"DIV",{class:!0});var t=g(s);i.l(t),t.forEach(h),r.forEach(h),this.h()},h(){y(s,"class","grid svelte-10grs4c"),y(e,"class","svelte-10grs4c")},m(l,r){_(l,e,r),b(e,s),i.m(s,null)},p(l,[r]){r&1&&Y(a,a=l[0])?(P(),M(i,1,1,J),N(),i=V(l),i.c(),S(i,1),i.m(s,null)):i.p(l,r)},i(l){S(i)},o(l){M(i)},d(l){l&&h(e),i.d(l)}}}function le(n,e,s){let a,i,l;R(n,x,t=>s(2,l=t));const r=t=>{U(x,l=t.id,l)};return n.$$.update=()=>{n.$$.dirty&4&&s(0,a=l),n.$$.dirty&1&&s(1,i=$.find(t=>t.id==a))},[a,i,l,r]}class oe extends Z{constructor(e){super(),F(this,e,le,ie,Y,{})}}export{oe as default};
