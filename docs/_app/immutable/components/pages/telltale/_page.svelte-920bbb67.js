import{S as R,i as j,s as F,k as g,l as v,m as b,h as m,n as p,b as u,E as y,t as B,d as A,f as H,I as P,P as J,Q as U,R as z,g as C,B as Q,T as X,q as I,r as M,u as T,a as x,c as S,J as K,N as D,U as L,e as G,V as $,K as ee}from"../../../chunks/index-c7dfad0f.js";import{w as te}from"../../../chunks/index-3ce9bd81.js";import{f as N}from"../../../chunks/index-0c3ebe04.js";var q;const ie=(q=window.localStorage.getItem("game_id"))!=null?q:"1",E=te(ie);E.subscribe(o=>{window.localStorage.setItem("game_id",o),console.log(o)});let le=[{id:"1",message:"The house.",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"2",text:"GO"}]},{id:"2",message:"Will you go in?",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://images.unsplash.com/photo-1617546127542-eb0dd8bdd52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8b2xkJTIwaG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" width="480"></iframe></div>',choices:[{id:"3",text:"yes"},{id:"4",text:"no"}]},{id:"3",message:"A monster is inside!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://previews.123rf.com/images/chainat/chainat1902/chainat190200039/120695175-creepy-monster-in-a-haunted-house-3d-rendering.jpg" width="480"></iframe></div>',choices:[{id:"4",text:"give up"},{id:"4",text:"run"}]},{id:"4",message:"You died!",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://media.gettyimages.com/id/88964685/sv/foto/man-passed-out-on-carpet-with-one-sock.jpg?s=612x612&w=0&k=20&c=f8p2sb3Slrk6QELaxcWS774T_ZCX3Xk6wb0EYZGUEF4=" width="480"></iframe></div>',choices:[{id:"1",text:"start again!"}]}];function O(o,e,l){const s=o.slice();return s[4]=e[l],s}function se(o){let e,l,s,t;return{c(){e=g("p"),l=I("STORY FOR ID "),s=I(o[0]),t=I(" MISSING")},l(i){e=v(i,"P",{});var c=b(e);l=M(c,"STORY FOR ID "),s=M(c,o[0]),t=M(c," MISSING"),c.forEach(m)},m(i,c){u(i,e,c),y(e,l),y(e,s),y(e,t)},p(i,c){c&1&&T(s,i[0])},d(i){i&&m(e)}}}function ae(o){let e,l,s,t=o[1].message+"",i,c,n,r=o[1].img&&V(o),f=o[1].html&&W(o),w=o[1].choices,h=[];for(let a=0;a<w.length;a+=1)h[a]=Y(O(o,w,a));return{c(){r&&r.c(),e=x(),f&&f.c(),l=x(),s=g("p"),i=I(t),c=x(),n=g("div");for(let a=0;a<h.length;a+=1)h[a].c();this.h()},l(a){r&&r.l(a),e=S(a),f&&f.l(a),l=S(a),s=v(a,"P",{});var _=b(s);i=M(_,t),_.forEach(m),c=S(a),n=v(a,"DIV",{class:!0});var d=b(n);for(let k=0;k<h.length;k+=1)h[k].l(d);d.forEach(m),this.h()},h(){p(n,"class","row svelte-10grs4c")},m(a,_){r&&r.m(a,_),u(a,e,_),f&&f.m(a,_),u(a,l,_),u(a,s,_),y(s,i),u(a,c,_),u(a,n,_);for(let d=0;d<h.length;d+=1)h[d].m(n,null)},p(a,_){if(a[1].img?r?r.p(a,_):(r=V(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[1].html?f?f.p(a,_):(f=W(a),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),_&2&&t!==(t=a[1].message+"")&&T(i,t),_&6){w=a[1].choices;let d;for(d=0;d<w.length;d+=1){const k=O(a,w,d);h[d]?h[d].p(k,_):(h[d]=Y(k),h[d].c(),h[d].m(n,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=w.length}},d(a){r&&r.d(a),a&&m(e),f&&f.d(a),a&&m(l),a&&m(s),a&&m(c),a&&m(n),K(h,a)}}}function V(o){let e,l,s;return{c(){e=g("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){D(e.src,l=o[1].img)||p(e,"src",l),p(e,"alt",s=o[1].message),p(e,"class","svelte-10grs4c")},m(t,i){u(t,e,i)},p(t,i){i&2&&!D(e.src,l=t[1].img)&&p(e,"src",l),i&2&&s!==(s=t[1].message)&&p(e,"alt",s)},d(t){t&&m(e)}}}function W(o){let e,l=o[1].html+"",s;return{c(){e=new L(!1),s=G(),this.h()},l(t){e=$(t,!1),s=G(),this.h()},h(){e.a=s},m(t,i){e.m(l,t,i),u(t,s,i)},p(t,i){i&2&&l!==(l=t[1].html+"")&&e.p(l)},d(t){t&&m(s),t&&e.d()}}}function Y(o){let e,l=o[4].text+"",s,t,i;function c(){return o[3](o[4])}return{c(){e=g("button"),s=I(l)},l(n){e=v(n,"BUTTON",{});var r=b(e);s=M(r,l),r.forEach(m)},m(n,r){u(n,e,r),y(e,s),t||(i=ee(e,"click",c),t=!0)},p(n,r){o=n,r&2&&l!==(l=o[4].text+"")&&T(s,l)},d(n){n&&m(e),t=!1,i()}}}function Z(o){let e,l,s,t;function i(r,f){return r[1]?ae:se}let c=i(o),n=c(o);return{c(){e=g("div"),n.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var f=b(e);n.l(f),f.forEach(m),this.h()},h(){p(e,"class","container svelte-10grs4c")},m(r,f){u(r,e,f),n.m(e,null),t=!0},p(r,f){c===(c=i(r))&&n?n.p(r,f):(n.d(1),n=c(r),n&&(n.c(),n.m(e,null)))},i(r){t||(r&&J(()=>{s&&s.end(1),l=U(e,N,{x:800,duration:750}),l.start()}),t=!0)},o(r){l&&l.invalidate(),r&&(s=z(e,N,{x:-800,duration:750})),t=!1},d(r){r&&m(e),n.d(),r&&s&&s.end()}}}function re(o){let e,l,s=o[0],t=Z(o);return{c(){e=g("main"),l=g("div"),t.c(),this.h()},l(i){e=v(i,"MAIN",{class:!0});var c=b(e);l=v(c,"DIV",{class:!0});var n=b(l);t.l(n),n.forEach(m),c.forEach(m),this.h()},h(){p(l,"class","grid svelte-10grs4c"),p(e,"class","svelte-10grs4c")},m(i,c){u(i,e,c),y(e,l),t.m(l,null)},p(i,[c]){c&1&&F(s,s=i[0])?(C(),B(t,1,1,Q),A(),t=Z(i),t.c(),H(t,1),t.m(l,null)):t.p(i,c)},i(i){H(t)},o(i){B(t)},d(i){i&&m(e),t.d(i)}}}function oe(o,e,l){let s,t,i;P(o,E,n=>l(2,i=n));const c=n=>{X(E,i=n.id,i)};return o.$$.update=()=>{o.$$.dirty&4&&l(0,s=i),o.$$.dirty&1&&l(1,t=le.find(n=>n.id==s))},[s,t,i,c]}class de extends R{constructor(e){super(),j(this,e,oe,re,F,{})}}export{de as default};
